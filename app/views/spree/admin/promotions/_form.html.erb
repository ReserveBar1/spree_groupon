<%= render :partial => 'spree/shared/error_messages', :locals => { :target => @promotion } %>
<fieldset id="general_fields">
  <legend><%= t(:general) %></legend>
  <%= f.field_container :name do %>
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  <% end %>

  <%= f.field_container :event_name do %>
    <%= f.label :event_name, t(:event) %><br />
    <%= f.select :event_name, Spree::Activator.event_names.map{|name| [t("events.#{name}"), name] } %>
  <% end %>

  <%= f.field_container :groupon_campaign do %>
    <%= f.label :groupon_campaign, t(:groupon_campaign) %><br />
    <%= f.text_field :groupon_campaign %> <%= "#{@number_of_groupon_codes} coupons loaded" if @number_of_groupon_codes %>
  <% end %>

  <%= f.field_container :groupon_codes_file do %>
    <%= f.label :groupon_codes_file, t(:groupon_codes_file) %><br />
    <%= f.file_field :groupon_codes_file %> (When you upload a new file, the old codes will be deleted.)
  <% end %>

  <%= f.field_container :code do %>
    <%= f.label :code, t(:code) %><br />
    <%= f.text_field :code %>
  <% end %>

  <%= f.field_container :path do %>
    <%= f.label :path, t(:path) %><br />
    <%= f.text_field :path %>
  <% end %>

  <%= f.field_container :description do %>
    <%= f.label :description %><br />
    <%= f.text_area :description, :style => 'height:50px;' %>
  <% end %>

  <%= f.field_container :advertise do %>
    <%= f.check_box :advertise %>
    <%= f.label :advertise, t(:advertise) %>
  <% end %>

</fieldset>

<fieldset id="expiry_fields">
  <legend><%= t(:expiry) %></legend>
  <p>
    <%= f.label :usage_limit, t(:usage_limit) %><br />
    <%= f.text_field :usage_limit %>
  </p>

  <p id="starts_at_field">
    <%= f.label :starts_at %>
    <%= f.text_field :starts_at, :class => 'datepicker' %>
  </p>
  <p id="expires_at_field">
    <%= f.label :expires_at %>
    <%= f.text_field :expires_at, :class => 'datepicker' %>
  </p>
</fieldset>
